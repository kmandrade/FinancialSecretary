# Configuracao do Cloudflare Worker para a API InvestAlerta
name = "investalerta-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Ambiente de desenvolvimento
[env.dev]
name = "investalerta-api-dev"
vars = { ENVIRONMENT = "development" }

# Ambiente de producao
[env.production]
name = "investalerta-api"
vars = { ENVIRONMENT = "production" }

# Binding do D1 Database
[[d1_databases]]
binding = "DB"
database_name = "investalerta-db"
database_id = "YOUR_DATABASE_ID_HERE" # Substituir pelo ID real apos criar o banco

# Variaveis de ambiente (secrets devem ser adicionados via wrangler secret)
[vars]
API_VERSION = "v1"
CORS_ORIGIN = "http://localhost:3000"

# Configuracoes de build
[build]
command = ""

# Triggers (opcional)
# [triggers]
# crons = ["*/5 * * * *"] # Executar a cada 5 minutos
